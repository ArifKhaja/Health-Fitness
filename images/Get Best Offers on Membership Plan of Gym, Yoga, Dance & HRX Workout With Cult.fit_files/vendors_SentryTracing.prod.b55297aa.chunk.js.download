(window.webpackJsonp=window.webpackJsonp||[]).push([["vendors~SentryTracing"],{"./node_modules/@sentry/tracing/esm/errors.js":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n("./node_modules/@sentry/utils/esm/instrument.js"),s=n("./node_modules/@sentry/utils/esm/logger.js"),r=n("./node_modules/@sentry/tracing/esm/spanstatus.js"),a=n("./node_modules/@sentry/tracing/esm/utils.js");function o(){Object(i.a)({callback:c,type:"error"}),Object(i.a)({callback:c,type:"unhandledrejection"})}function c(){var t=Object(a.c)();t&&(s.a.log("[Tracing] Transaction: "+r.a.InternalError+" -> Global error occured"),t.setStatus(r.a.InternalError))}},"./node_modules/@sentry/tracing/esm/hubextensions.js":function(t,e,n){"use strict";(function(t){n.d(e,"b",(function(){return m})),n.d(e,"a",(function(){return f}));var i=n("./node_modules/tslib/tslib.es6.js"),s=n("./node_modules/@sentry/tracing/node_modules/@sentry/hub/esm/hub.js"),r=n("./node_modules/@sentry/tracing/node_modules/@sentry/types/esm/transaction.js"),a=n("./node_modules/@sentry/utils/esm/logger.js"),o=n("./node_modules/@sentry/utils/esm/node.js"),c=n("./node_modules/@sentry/tracing/esm/errors.js"),u=n("./node_modules/@sentry/tracing/esm/idletransaction.js"),d=n("./node_modules/@sentry/tracing/esm/transaction.js"),p=n("./node_modules/@sentry/tracing/esm/utils.js");function l(){var t=this.getScope();if(t){var e=t.getSpan();if(e)return{"sentry-trace":e.toTraceparent()}}return{}}function h(t,e,n){return Object(p.d)()?void 0!==t.sampled?(t.setMetadata({transactionSampling:{method:r.a.Explicit}}),t):("function"==typeof e.tracesSampler?(i=e.tracesSampler(n),t.setMetadata({transactionSampling:{method:r.a.Sampler,rate:Number(i)}})):void 0!==n.parentSampled?(i=n.parentSampled,t.setMetadata({transactionSampling:{method:r.a.Inheritance}})):(i=e.tracesSampleRate,t.setMetadata({transactionSampling:{method:r.a.Rate,rate:Number(i)}})),function(t){if(isNaN(t)||"number"!=typeof t&&"boolean"!=typeof t)return a.a.warn("[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got "+JSON.stringify(t)+" of type "+JSON.stringify(typeof t)+"."),!1;if(t<0||t>1)return a.a.warn("[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got "+t+"."),!1;return!0}(i)?i?(t.sampled=Math.random()<i,t.sampled?(a.a.log("[Tracing] starting "+t.op+" transaction - "+t.name),t):(a.a.log("[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = "+Number(i)+")"),t)):(a.a.log("[Tracing] Discarding transaction because "+("function"==typeof e.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),t.sampled=!1,t):(a.a.warn("[Tracing] Discarding transaction because of invalid sample rate."),t.sampled=!1,t)):(t.sampled=!1,t);var i}function _(t,e){var n,s,r=(null===(n=this.getClient())||void 0===n?void 0:n.getOptions())||{},a=new d.a(t,this);return(a=h(a,r,Object(i.__assign)({parentSampled:t.parentSampled,transactionContext:t},e))).sampled&&a.initSpanRecorder(null===(s=r._experiments)||void 0===s?void 0:s.maxSpans),a}function m(t,e,n,s,r){var a,o,c=(null===(a=t.getClient())||void 0===a?void 0:a.getOptions())||{},d=new u.b(e,t,n,s);return(d=h(d,c,Object(i.__assign)({parentSampled:e.parentSampled,transactionContext:e},r))).sampled&&d.initSpanRecorder(null===(o=c._experiments)||void 0===o?void 0:o.maxSpans),d}function f(){var e;(e=Object(s.c)()).__SENTRY__&&(e.__SENTRY__.extensions=e.__SENTRY__.extensions||{},e.__SENTRY__.extensions.startTransaction||(e.__SENTRY__.extensions.startTransaction=_),e.__SENTRY__.extensions.traceHeaders||(e.__SENTRY__.extensions.traceHeaders=l)),Object(o.b)()&&function(){var e=Object(s.c)();if(e.__SENTRY__){var n={mongodb:function(){return new(Object(o.a)(t,"./integrations/mongo").Mongo)},mongoose:function(){return new(Object(o.a)(t,"./integrations/mongo").Mongo)({mongoose:!0})},mysql:function(){return new(Object(o.a)(t,"./integrations/mysql").Mysql)},pg:function(){return new(Object(o.a)(t,"./integrations/postgres").Postgres)}},r=Object.keys(n).filter((function(t){return!!Object(o.c)(t)})).map((function(t){try{return n[t]()}catch(t){return}})).filter((function(t){return t}));r.length>0&&(e.__SENTRY__.integrations=Object(i.__spread)(e.__SENTRY__.integrations||[],r))}}(),Object(c.a)()}}).call(this,n("./node_modules/webpack/buildin/harmony-module.js")(t))},"./node_modules/@sentry/tracing/esm/idletransaction.js":function(t,e,n){"use strict";n.d(e,"a",(function(){return u})),n.d(e,"b",(function(){return p}));var i=n("./node_modules/tslib/tslib.es6.js"),s=n("./node_modules/@sentry/utils/esm/time.js"),r=n("./node_modules/@sentry/utils/esm/logger.js"),a=n("./node_modules/@sentry/tracing/esm/span.js"),o=n("./node_modules/@sentry/tracing/esm/spanstatus.js"),c=n("./node_modules/@sentry/tracing/esm/transaction.js"),u=1e3,d=function(t){function e(e,n,i,s){void 0===i&&(i="");var r=t.call(this,s)||this;return r._pushActivity=e,r._popActivity=n,r.transactionSpanId=i,r}return Object(i.__extends)(e,t),e.prototype.add=function(e){var n=this;e.spanId!==this.transactionSpanId&&(e.finish=function(t){e.endTimestamp="number"==typeof t?t:Object(s.d)(),n._popActivity(e.spanId)},void 0===e.endTimestamp&&this._pushActivity(e.spanId)),t.prototype.add.call(this,e)},e}(a.b),p=function(t){function e(e,n,i,s){void 0===i&&(i=u),void 0===s&&(s=!1);var a=t.call(this,e,n)||this;return a._idleHub=n,a._idleTimeout=i,a._onScope=s,a.activities={},a._heartbeatTimer=0,a._heartbeatCounter=0,a._finished=!1,a._beforeFinishCallbacks=[],n&&s&&(l(n),r.a.log("Setting idle transaction on scope. Span ID: "+a.spanId),n.configureScope((function(t){return t.setSpan(a)}))),a._initTimeout=setTimeout((function(){a._finished||a.finish()}),a._idleTimeout),a}return Object(i.__extends)(e,t),e.prototype.finish=function(e){var n,a,c=this;if(void 0===e&&(e=Object(s.d)()),this._finished=!0,this.activities={},this.spanRecorder){r.a.log("[Tracing] finishing IdleTransaction",new Date(1e3*e).toISOString(),this.op);try{for(var u=Object(i.__values)(this._beforeFinishCallbacks),d=u.next();!d.done;d=u.next()){(0,d.value)(this,e)}}catch(t){n={error:t}}finally{try{d&&!d.done&&(a=u.return)&&a.call(u)}finally{if(n)throw n.error}}this.spanRecorder.spans=this.spanRecorder.spans.filter((function(t){if(t.spanId===c.spanId)return!0;t.endTimestamp||(t.endTimestamp=e,t.setStatus(o.a.Cancelled),r.a.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(t,void 0,2)));var n=t.startTimestamp<e;return n||r.a.log("[Tracing] discarding Span since it happened after Transaction was finished",JSON.stringify(t,void 0,2)),n})),r.a.log("[Tracing] flushing IdleTransaction")}else r.a.log("[Tracing] No active IdleTransaction");return this._onScope&&l(this._idleHub),t.prototype.finish.call(this,e)},e.prototype.registerBeforeFinishCallback=function(t){this._beforeFinishCallbacks.push(t)},e.prototype.initSpanRecorder=function(t){var e=this;if(!this.spanRecorder){this.spanRecorder=new d((function(t){e._finished||e._pushActivity(t)}),(function(t){e._finished||e._popActivity(t)}),this.spanId,t),r.a.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)},e.prototype._pushActivity=function(t){this._initTimeout&&(clearTimeout(this._initTimeout),this._initTimeout=void 0),r.a.log("[Tracing] pushActivity: "+t),this.activities[t]=!0,r.a.log("[Tracing] new activities count",Object.keys(this.activities).length)},e.prototype._popActivity=function(t){var e=this;if(this.activities[t]&&(r.a.log("[Tracing] popActivity "+t),delete this.activities[t],r.a.log("[Tracing] new activities count",Object.keys(this.activities).length)),0===Object.keys(this.activities).length){var n=this._idleTimeout,i=Object(s.d)()+n/1e3;setTimeout((function(){e._finished||e.finish(i)}),n)}},e.prototype._beat=function(){if(clearTimeout(this._heartbeatTimer),!this._finished){var t=Object.keys(this.activities),e=t.length?t.reduce((function(t,e){return t+e})):"";e===this._prevHeartbeatString?this._heartbeatCounter+=1:this._heartbeatCounter=1,this._prevHeartbeatString=e,this._heartbeatCounter>=3?(r.a.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus(o.a.DeadlineExceeded),this.setTag("heartbeat","failed"),this.finish()):this._pingHeartbeat()}},e.prototype._pingHeartbeat=function(){var t=this;r.a.log("pinging Heartbeat -> current counter: "+this._heartbeatCounter),this._heartbeatTimer=setTimeout((function(){t._beat()}),5e3)},e}(c.a);function l(t){if(t){var e=t.getScope();if(e)e.getTransaction()&&e.setSpan(void 0)}}},"./node_modules/@sentry/tracing/esm/index.js":function(t,e,n){"use strict";n.r(e),n.d(e,"Integrations",(function(){return $})),n.d(e,"Span",(function(){return X.a})),n.d(e,"Transaction",(function(){return Q.a})),n.d(e,"registerRequestInstrumentation",(function(){return D})),n.d(e,"defaultRequestInstrumentationOptions",(function(){return M})),n.d(e,"SpanStatus",(function(){return u.a})),n.d(e,"IdleTransaction",(function(){return c.b})),n.d(e,"startIdleTransaction",(function(){return o.b})),n.d(e,"addExtensionMethods",(function(){return o.a})),n.d(e,"extractTraceparentData",(function(){return d.b})),n.d(e,"getActiveTransaction",(function(){return d.c})),n.d(e,"hasTracingEnabled",(function(){return d.d})),n.d(e,"stripUrlQueryAndFragment",(function(){return a.j})),n.d(e,"TRACEPARENT_REGEXP",(function(){return d.a}));var i={};n.r(i),n.d(i,"Express",(function(){return P})),n.d(i,"Postgres",(function(){return B})),n.d(i,"Mysql",(function(){return z})),n.d(i,"Mongo",(function(){return G}));var s=n("./node_modules/tslib/tslib.es6.js"),r=n("./node_modules/@sentry/utils/esm/logger.js"),a=n("./node_modules/@sentry/utils/esm/misc.js"),o=n("./node_modules/@sentry/tracing/esm/hubextensions.js"),c=n("./node_modules/@sentry/tracing/esm/idletransaction.js"),u=n("./node_modules/@sentry/tracing/esm/spanstatus.js"),d=n("./node_modules/@sentry/tracing/esm/utils.js"),p=Object(a.e)();var l,h,_=n("./node_modules/@sentry/utils/esm/node.js"),m=n("./node_modules/@sentry/utils/esm/time.js"),f=n("./node_modules/@sentry/utils/esm/browser.js"),g=function(t,e,n,i){var s;return function(){n&&e.isFinal&&n.disconnect(),e.value>=0&&(i||e.isFinal||"hidden"===document.visibilityState)&&(e.delta=e.value-(s||0),(e.delta||e.isFinal||void 0===s)&&(t(e),s=e.value))}},v=function(t,e){return void 0===e&&(e=-1),{name:t,value:e,delta:0,entries:[],id:Date.now()+"-"+(Math.floor(8999999999999*Math.random())+1e12),isFinal:!1}},y=function(t,e){try{if(PerformanceObserver.supportedEntryTypes.includes(t)){var n=new PerformanceObserver((function(t){return t.getEntries().map(e)}));return n.observe({type:t,buffered:!0}),n}}catch(t){}},b=!1,O=!1,j=function(t){b=!t.persisted},S=function(t,e){void 0===e&&(e=!1),O||(addEventListener("pagehide",j),addEventListener("beforeunload",(function(){})),O=!0),addEventListener("visibilitychange",(function(e){"hidden"===document.visibilityState&&t({timeStamp:e.timeStamp,isUnloading:b})}),{capture:!0,once:e})},T=function(){return void 0===l&&(l="hidden"===document.visibilityState?0:1/0,S((function(t){return l=t.timeStamp}),!0)),{get timeStamp(){return l}}},x=function(t,e){void 0===e&&(e=!1);var n,i=v("LCP"),s=T(),r=function(t){var e=t.startTime;e<s.timeStamp?(i.value=e,i.entries.push(t)):i.isFinal=!0,n()},a=y("largest-contentful-paint",r);if(a){n=g(t,i,a,e);var o=function(){i.isFinal||(a.takeRecords().map(r),i.isFinal=!0,n())};(h||(h=new Promise((function(t){return["scroll","keydown","pointerdown"].map((function(e){addEventListener(e,t,{once:!0,passive:!0,capture:!0})}))}))),h).then(o),S(o,!0)}},E=Object(a.e)(),k=function(){function t(){var t;this._measurements={},this._performanceCursor=0,!Object(_.b)()&&(null===(t=E)||void 0===t?void 0:t.performance)&&(E.performance.mark&&E.performance.mark("sentry-tracing-init"),this._trackCLS(),this._trackLCP(),this._trackFID())}return t.prototype.addPerformanceEntries=function(t){var e=this;if(E&&E.performance&&E.performance.getEntries&&m.a){r.a.log("[Tracing] Adding & adjusting spans using Performance API");var n,i,s,a,o,c=Object(d.e)(m.a);if(E.document)for(var u=0;u<document.scripts.length;u++)if("true"===document.scripts[u].dataset.entry){n=document.scripts[u].src;break}if(E.performance.getEntries().slice(this._performanceCursor).forEach((function(u){var p=Object(d.e)(u.startTime),l=Object(d.e)(u.duration);if(!("navigation"===t.op&&c+p<t.startTimestamp))switch(u.entryType){case"navigation":!function(t,e,n){I({transaction:t,entry:e,event:"unloadEvent",timeOrigin:n}),I({transaction:t,entry:e,event:"redirect",timeOrigin:n}),I({transaction:t,entry:e,event:"domContentLoadedEvent",timeOrigin:n}),I({transaction:t,entry:e,event:"loadEvent",timeOrigin:n}),I({transaction:t,entry:e,event:"connect",timeOrigin:n}),I({transaction:t,entry:e,event:"secureConnection",timeOrigin:n,eventEnd:"connectEnd",description:"TLS/SSL"}),I({transaction:t,entry:e,event:"fetch",timeOrigin:n,eventEnd:"domainLookupStart",description:"cache"}),I({transaction:t,entry:e,event:"domainLookup",timeOrigin:n,description:"DNS"}),function(t,e,n){w(t,{op:"browser",description:"request",startTimestamp:n+Object(d.e)(e.requestStart),endTimestamp:n+Object(d.e)(e.responseEnd)}),w(t,{op:"browser",description:"response",startTimestamp:n+Object(d.e)(e.responseStart),endTimestamp:n+Object(d.e)(e.responseEnd)})}(t,e,n)}(t,u,c),a=c+Object(d.e)(u.responseStart),o=c+Object(d.e)(u.requestStart);break;case"mark":case"paint":case"measure":var h=function(t,e,n,i,s){var r=s+n;return w(t,{description:e.name,endTimestamp:r+i,op:e.entryType,startTimestamp:r}),r}(t,u,p,l,c);void 0===s&&"sentry-tracing-init"===u.name&&(s=h);var _=T(),m=u.startTime<_.timeStamp;"first-paint"===u.name&&m&&(r.a.log("[Measurements] Adding FP"),e._measurements.fp={value:u.startTime},e._measurements["mark.fp"]={value:h}),"first-contentful-paint"===u.name&&m&&(r.a.log("[Measurements] Adding FCP"),e._measurements.fcp={value:u.startTime},e._measurements["mark.fcp"]={value:h});break;case"resource":var f=u.name.replace(window.location.origin,""),g=function(t,e,n,i,s,r){if("xmlhttprequest"===e.initiatorType||"fetch"===e.initiatorType)return;var a={};"transferSize"in e&&(a["Transfer Size"]=e.transferSize);"encodedBodySize"in e&&(a["Encoded Body Size"]=e.encodedBodySize);"decodedBodySize"in e&&(a["Decoded Body Size"]=e.decodedBodySize);var o=r+i,c=o+s;return w(t,{description:n,endTimestamp:c,op:e.initiatorType?"resource."+e.initiatorType:"resource",startTimestamp:o,data:a}),c}(t,u,f,p,l,c);void 0===i&&(n||"").indexOf(f)>-1&&(i=g)}})),void 0!==i&&void 0!==s&&w(t,{description:"evaluation",endTimestamp:s,op:"script",startTimestamp:i}),this._performanceCursor=Math.max(performance.getEntries().length-1,0),this._trackNavigator(t),"pageload"===t.op){var p=Object(d.e)(m.a);"number"==typeof a&&(r.a.log("[Measurements] Adding TTFB"),this._measurements.ttfb={value:1e3*(a-t.startTimestamp)},"number"==typeof o&&o<=a&&(this._measurements["ttfb.requestTime"]={value:1e3*(a-o)})),["fcp","fp","lcp"].forEach((function(n){if(e._measurements[n]&&!(p>=t.startTimestamp)){var i=e._measurements[n].value,s=p+Object(d.e)(i),a=Math.abs(1e3*(s-t.startTimestamp));r.a.log("[Measurements] Normalized "+n+" from "+i+" to "+a+" ("+(a-i)+")"),e._measurements[n].value=a}})),this._measurements["mark.fid"]&&this._measurements.fid&&w(t,{description:"first input delay",endTimestamp:this._measurements["mark.fid"].value+Object(d.e)(this._measurements.fid.value),op:"web.vitals",startTimestamp:this._measurements["mark.fid"].value}),t.setMeasurements(this._measurements),this._tagMetricInfo(t)}}},t.prototype._tagMetricInfo=function(t){this._lcpEntry&&(r.a.log("[Measurements] Adding LCP Data"),this._lcpEntry.element&&t.setTag("lcp.element",Object(f.a)(this._lcpEntry.element)),this._lcpEntry.id&&t.setTag("lcp.id",this._lcpEntry.id),this._lcpEntry.url&&t.setTag("lcp.url",this._lcpEntry.url.trim().slice(0,200)),t.setTag("lcp.size",this._lcpEntry.size)),this._clsEntry&&(r.a.log("[Measurements] Adding CLS Data"),this._clsEntry.sources.map((function(e,n){return t.setTag("cls.source."+(n+1),Object(f.a)(e.node))})))},t.prototype._trackCLS=function(){var t=this;!function(t,e){void 0===e&&(e=!1);var n,i=v("CLS",0),s=function(t){t.hadRecentInput||(i.value+=t.value,i.entries.push(t),n())},r=y("layout-shift",s);r&&(n=g(t,i,r,e),S((function(t){var e=t.isUnloading;r.takeRecords().map(s),e&&(i.isFinal=!0),n()})))}((function(e){var n=e.entries.pop();n&&(r.a.log("[Measurements] Adding CLS"),t._measurements.cls={value:e.value},t._clsEntry=n)}))},t.prototype._trackNavigator=function(t){var e=E.navigator;if(e){var n=e.connection;n&&(n.effectiveType&&t.setTag("effectiveConnectionType",n.effectiveType),n.type&&t.setTag("connectionType",n.type),C(n.rtt)&&(this._measurements["connection.rtt"]={value:n.rtt}),C(n.downlink)&&(this._measurements["connection.downlink"]={value:n.downlink})),C(e.deviceMemory)&&t.setTag("deviceMemory",String(e.deviceMemory)),C(e.hardwareConcurrency)&&t.setTag("hardwareConcurrency",String(e.hardwareConcurrency))}},t.prototype._trackLCP=function(){var t=this;x((function(e){var n=e.entries.pop();if(n){var i=Object(d.e)(m.a),s=Object(d.e)(n.startTime);r.a.log("[Measurements] Adding LCP"),t._measurements.lcp={value:e.value},t._measurements["mark.lcp"]={value:i+s},t._lcpEntry=n}}))},t.prototype._trackFID=function(){var t=this;!function(t){var e=v("FID"),n=T(),i=function(t){t.startTime<n.timeStamp&&(e.value=t.processingStart-t.startTime,e.entries.push(t),e.isFinal=!0,r())},s=y("first-input",i),r=g(t,e,s);s?S((function(){s.takeRecords().map(i),s.disconnect()}),!0):window.perfMetrics&&window.perfMetrics.onFirstInputDelay&&window.perfMetrics.onFirstInputDelay((function(t,i){i.timeStamp<n.timeStamp&&(e.value=t,e.isFinal=!0,e.entries=[{entryType:"first-input",name:i.type,target:i.target,cancelable:i.cancelable,startTime:i.timeStamp,processingStart:i.timeStamp+t}],r())}))}((function(e){var n=e.entries.pop();if(n){var i=Object(d.e)(m.a),s=Object(d.e)(n.startTime);r.a.log("[Measurements] Adding FID"),t._measurements.fid={value:e.value},t._measurements["mark.fid"]={value:i+s}}}))},t}();function I(t){var e=t.entry,n=t.event,i=t.timeOrigin,s=t.eventEnd,r=t.description,a=s?e[s]:e[n+"End"],o=e[n+"Start"];o&&a&&w(t.transaction,{op:"browser",description:null!=r?r:n,startTimestamp:i+Object(d.e)(o),endTimestamp:i+Object(d.e)(a)})}function w(t,e){var n=e.startTimestamp,i=Object(s.__rest)(e,["startTimestamp"]);return n&&t.startTimestamp>n&&(t.startTimestamp=n),t.startChild(Object(s.__assign)({startTimestamp:n},i))}function C(t){return"number"==typeof t&&isFinite(t)}var R=n("./node_modules/@sentry/utils/esm/string.js"),A=n("./node_modules/@sentry/utils/esm/instrument.js"),N=n("./node_modules/@sentry/utils/esm/is.js"),M={traceFetch:!0,traceXHR:!0,tracingOrigins:["localhost",/^\//]};function D(t){var e=Object(s.__assign)(Object(s.__assign)({},M),t),n=e.traceXHR,i=e.tracingOrigins,r=e.shouldCreateSpanForRequest,a={},o=function(t){return a[t]||(a[t]=i.some((function(e){return Object(R.a)(t,e)}))&&!Object(R.a)(t,"sentry_key")),a[t]},c=o;"function"==typeof r&&(c=function(t){return o(t)&&r(t)});var p={};e.traceFetch&&Object(A.a)({callback:function(t){!function(t,e,n){if(!Object(d.d)()||!t.fetchData||!e(t.fetchData.url))return;if(t.endTimestamp&&t.fetchData.__span){return void((r=n[t.fetchData.__span])&&(t.response?r.setHttpStatus(t.response.status):t.error&&r.setStatus(u.a.InternalError),r.finish(),delete n[t.fetchData.__span]))}var i=Object(d.c)();if(i){var r=i.startChild({data:Object(s.__assign)(Object(s.__assign)({},t.fetchData),{type:"fetch"}),description:t.fetchData.method+" "+t.fetchData.url,op:"http"});t.fetchData.__span=r.spanId,n[r.spanId]=r;var a=t.args[0]=t.args[0],o=t.args[1]=t.args[1]||{},c=o.headers;Object(N.g)(a,Request)&&(c=a.headers),c?"function"==typeof c.append?c.append("sentry-trace",r.toTraceparent()):c=Array.isArray(c)?Object(s.__spread)(c,[["sentry-trace",r.toTraceparent()]]):Object(s.__assign)(Object(s.__assign)({},c),{"sentry-trace":r.toTraceparent()}):c={"sentry-trace":r.toTraceparent()},o.headers=c}}(t,c,p)},type:"fetch"}),n&&Object(A.a)({callback:function(t){!function(t,e,n){var i,r;if(!Object(d.d)()||(null===(i=t.xhr)||void 0===i?void 0:i.__sentry_own_request__)||!(null===(r=t.xhr)||void 0===r?void 0:r.__sentry_xhr__)||!e(t.xhr.__sentry_xhr__.url))return;var a=t.xhr.__sentry_xhr__;if(t.endTimestamp&&t.xhr.__sentry_xhr_span_id__){return void((c=n[t.xhr.__sentry_xhr_span_id__])&&(c.setHttpStatus(a.status_code),c.finish(),delete n[t.xhr.__sentry_xhr_span_id__]))}var o=Object(d.c)();if(o){var c=o.startChild({data:Object(s.__assign)(Object(s.__assign)({},a.data),{type:"xhr",method:a.method,url:a.url}),description:a.method+" "+a.url,op:"http"});if(t.xhr.__sentry_xhr_span_id__=c.spanId,n[t.xhr.__sentry_xhr_span_id__]=c,t.xhr.setRequestHeader)try{t.xhr.setRequestHeader("sentry-trace",c.toTraceparent())}catch(t){}}}(t,c,p)},type:"xhr"})}var L=Object(a.e)();var q=Object(s.__assign)({idleTimeout:c.a,markBackgroundTransactions:!0,maxTransactionDuration:600,routingInstrumentation:function(t,e,n){if(void 0===e&&(e=!0),void 0===n&&(n=!0),L&&L.location){var i,s=L.location.href;e&&(i=t({name:L.location.pathname,op:"pageload"})),n&&Object(A.a)({callback:function(e){var n=e.to,a=e.from;void 0===a&&s&&-1!==s.indexOf(n)?s=void 0:a!==n&&(s=void 0,i&&(r.a.log("[Tracing] Finishing current transaction with op: "+i.op),i.finish()),i=t({name:L.location.pathname,op:"navigation"}))},type:"history"})}else r.a.warn("Could not initialize routing instrumentation due to invalid location")},startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0},M),F=function(){function t(e){this.name=t.id,this._metrics=new k,this._emitOptionsWarning=!1;var n=M.tracingOrigins;e&&e.tracingOrigins&&Array.isArray(e.tracingOrigins)&&0!==e.tracingOrigins.length?n=e.tracingOrigins:this._emitOptionsWarning=!0,this.options=Object(s.__assign)(Object(s.__assign)(Object(s.__assign)({},q),e),{tracingOrigins:n})}return t.prototype.setupOnce=function(t,e){var n=this;this._getCurrentHub=e,this._emitOptionsWarning&&(r.a.warn("[Tracing] You need to define `tracingOrigins` in the options. Set an array of urls or patterns to trace."),r.a.warn("[Tracing] We added a reasonable default for you: "+M.tracingOrigins));var i=this.options,s=i.markBackgroundTransactions,a=i.traceFetch,o=i.traceXHR,c=i.tracingOrigins,l=i.shouldCreateSpanForRequest;(0,i.routingInstrumentation)((function(t){return n._createRouteTransaction(t)}),i.startTransactionOnPageLoad,i.startTransactionOnLocationChange),s&&(p&&p.document?p.document.addEventListener("visibilitychange",(function(){var t=Object(d.c)();p.document.hidden&&t&&(r.a.log("[Tracing] Transaction: "+u.a.Cancelled+" -> since tab moved to the background, op: "+t.op),t.status||t.setStatus(u.a.Cancelled),t.setTag("visibilitychange","document.hidden"),t.finish())})):r.a.warn("[Tracing] Could not set up background tab detection due to lack of global document")),D({traceFetch:a,traceXHR:o,tracingOrigins:c,shouldCreateSpanForRequest:l})},t.prototype._createRouteTransaction=function(t){var e=this;if(this._getCurrentHub){var n=this.options,i=n.beforeNavigate,c=n.idleTimeout,p=n.maxTransactionDuration,l="pageload"===t.op?function(){var t=(e="sentry-trace",n=document.querySelector("meta[name="+e+"]"),n?n.getAttribute("content"):null);var e,n;if(t)return Object(d.b)(t);return}():void 0,h=Object(s.__assign)(Object(s.__assign)(Object(s.__assign)({},t),l),{trimEnd:!0}),_="function"==typeof i?i(h):h,m=void 0===_?Object(s.__assign)(Object(s.__assign)({},h),{sampled:!1}):_;!1===m.sampled&&r.a.log("[Tracing] Will not send "+m.op+" transaction because of beforeNavigate."),r.a.log("[Tracing] Starting "+m.op+" transaction on scope");var f=this._getCurrentHub(),g=Object(a.e)().location,v=Object(o.b)(f,m,c,!0,{location:g});return v.registerBeforeFinishCallback((function(t,n){e._metrics.addPerformanceEntries(t),function(t,e,n){var i=n-e.startTimestamp;n&&(i>t||i<0)&&(e.setStatus(u.a.DeadlineExceeded),e.setTag("maxTransactionDurationExceeded","true"))}(Object(d.f)(p),t,n)})),v}r.a.warn("[Tracing] Did not create "+t.op+" transaction because _getCurrentHub is invalid.")},t.id="BrowserTracing",t}();var P=function(){function t(e){void 0===e&&(e={}),this.name=t.id,this._router=e.router||e.app,this._methods=(Array.isArray(e.methods)?e.methods:[]).concat("use")}return t.prototype.setupOnce=function(){this._router?function(t,e){void 0===e&&(e=[]);e.forEach((function(e){return function(t,e){var n=t[e];return t[e]=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return n.call.apply(n,Object(s.__spread)([this],H(t,e)))},t}(t,e)}))}(this._router,this._methods):r.a.error("ExpressIntegration is missing an Express instance")},t.id="Express",t}();function Y(t,e){var n=t.length;switch(n){case 2:return function(n,i){var s=i.__sentry_transaction;if(s){var r=s.startChild({description:t.name,op:"middleware."+e});i.once("finish",(function(){r.finish()}))}return t.call(this,n,i)};case 3:return function(n,i,r){var a,o=null===(a=i.__sentry_transaction)||void 0===a?void 0:a.startChild({description:t.name,op:"middleware."+e});t.call(this,n,i,(function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];null===(t=o)||void 0===t||t.finish(),r.call.apply(r,Object(s.__spread)([this],e))}))};case 4:return function(n,i,r,a){var o,c=null===(o=r.__sentry_transaction)||void 0===o?void 0:o.startChild({description:t.name,op:"middleware."+e});t.call(this,n,i,r,(function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];null===(t=c)||void 0===t||t.finish(),a.call.apply(a,Object(s.__spread)([this],e))}))};default:throw new Error("Express middleware takes 2-4 arguments. Got: "+n)}}function H(t,e){return t.map((function(t){return"function"==typeof t?Y(t,e):Array.isArray(t)?t.map((function(t){return"function"==typeof t?Y(t,e):t})):t}))}var U=n("./node_modules/@sentry/utils/esm/object.js"),B=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(t,e){var n=Object(_.c)("pg");n?Object(U.c)(n.Client.prototype,"query",(function(t){return function(n,i,s){var r,a,o,c=null===(a=null===(r=e().getScope())||void 0===r?void 0:r.getSpan())||void 0===a?void 0:a.startChild({description:"string"==typeof n?n:n.text,op:"db"});if("function"==typeof s)return t.call(this,n,i,(function(t,e){var n;null===(n=c)||void 0===n||n.finish(),s(t,e)}));if("function"==typeof i)return t.call(this,n,(function(t,e){var n;null===(n=c)||void 0===n||n.finish(),i(t,e)}));var u=void 0!==i?t.call(this,n,i):t.call(this,n);return Object(N.m)(u)?u.then((function(t){var e;return null===(e=c)||void 0===e||e.finish(),t})):(null===(o=c)||void 0===o||o.finish(),u)}})):r.a.error("Postgres Integration was unable to require `pg` package.")},t.id="Postgres",t}(),z=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(t,e){var n=Object(_.c)("mysql/lib/Connection.js");n?Object(U.c)(n,"createQuery",(function(t){return function(n,i,s){var r,a,o=null===(a=null===(r=e().getScope())||void 0===r?void 0:r.getSpan())||void 0===a?void 0:a.startChild({description:"string"==typeof n?n:n.sql,op:"db"});return"function"==typeof s?t.call(this,n,i,(function(t,e,n){var i;null===(i=o)||void 0===i||i.finish(),s(t,e,n)})):"function"==typeof i?t.call(this,n,(function(t,e,n){var s;null===(s=o)||void 0===s||s.finish(),i(t,e,n)})):t.call(this,n,i,s)}})):r.a.error("Mysql Integration was unable to require `mysql` package.")},t.id="Mysql",t}(),J=["aggregate","bulkWrite","countDocuments","createIndex","createIndexes","deleteMany","deleteOne","distinct","drop","dropIndex","dropIndexes","estimatedDocumentCount","find","findOne","findOneAndDelete","findOneAndReplace","findOneAndUpdate","indexes","indexExists","indexInformation","initializeOrderedBulkOp","insertMany","insertOne","isCapped","mapReduce","options","parallelCollectionScan","rename","replaceOne","stats","updateMany","updateOne"],W={bulkWrite:["operations"],countDocuments:["query"],createIndex:["fieldOrSpec"],createIndexes:["indexSpecs"],deleteMany:["filter"],deleteOne:["filter"],distinct:["key","query"],dropIndex:["indexName"],find:["query"],findOne:["query"],findOneAndDelete:["filter"],findOneAndReplace:["filter","replacement"],findOneAndUpdate:["filter","update"],indexExists:["indexes"],insertMany:["docs"],insertOne:["doc"],mapReduce:["map","reduce"],rename:["newName"],replaceOne:["filter","doc"],updateMany:["filter","update"],updateOne:["filter","update"]},G=function(){function t(e){void 0===e&&(e={}),this.name=t.id,this._operations=Array.isArray(e.operations)?e.operations:J,this._describeOperations=!("describeOperations"in e)||e.describeOperations,this._useMongoose=!!e.useMongoose}return t.prototype.setupOnce=function(t,e){var n=this._useMongoose?"mongoose":"mongodb",i=Object(_.c)(n);i?this._instrumentOperations(i.Collection,this._operations,e):r.a.error("Mongo Integration was unable to require `"+n+"` package.")},t.prototype._instrumentOperations=function(t,e,n){var i=this;e.forEach((function(e){return i._patchOperation(t,e,n)}))},t.prototype._patchOperation=function(t,e,n){if(e in t.prototype){var i=this._getSpanContextFromOperationArguments.bind(this);Object(U.c)(t.prototype,e,(function(t){return function(){for(var r,a,o,c,u=[],d=0;d<arguments.length;d++)u[d]=arguments[d];var p=u[u.length-1],l=n().getScope(),h=null===(r=l)||void 0===r?void 0:r.getSpan();if("function"!=typeof p||"mapReduce"===e&&2===u.length){var _=null===(a=h)||void 0===a?void 0:a.startChild(i(this,e,u)),m=t.call.apply(t,Object(s.__spread)([this],u));return Object(N.m)(m)?m.then((function(t){var e;return null===(e=_)||void 0===e||e.finish(),t})):(null===(o=_)||void 0===o||o.finish(),m)}var f=null===(c=h)||void 0===c?void 0:c.startChild(i(this,e,u.slice(0,-1)));return t.call.apply(t,Object(s.__spread)([this],u.slice(0,-1),[function(t,e){var n;null===(n=f)||void 0===n||n.finish(),p(t,e)}]))}}))}},t.prototype._getSpanContextFromOperationArguments=function(t,e,n){var i={collectionName:t.collectionName,dbName:t.dbName,namespace:t.namespace},r={op:"db",description:e,data:i},a=W[e],o=Array.isArray(this._describeOperations)?this._describeOperations.includes(e):this._describeOperations;if(!a||!o)return r;try{if("mapReduce"===e){var c=Object(s.__read)(n,2),u=c[0],d=c[1];i[a[0]]="string"==typeof u?u:u.name||"<anonymous>",i[a[1]]="string"==typeof d?d:d.name||"<anonymous>"}else for(var p=0;p<a.length;p++)i[a[p]]=JSON.stringify(n[p])}catch(t){}return r},t.id="Mongo",t}(),X=n("./node_modules/@sentry/tracing/esm/span.js"),Q=n("./node_modules/@sentry/tracing/esm/transaction.js"),$=Object(s.__assign)(Object(s.__assign)({},i),{BrowserTracing:F});Object(o.a)()},"./node_modules/@sentry/tracing/esm/span.js":function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return u}));var i=n("./node_modules/tslib/tslib.es6.js"),s=n("./node_modules/@sentry/utils/esm/misc.js"),r=n("./node_modules/@sentry/utils/esm/time.js"),a=n("./node_modules/@sentry/utils/esm/object.js"),o=n("./node_modules/@sentry/tracing/esm/spanstatus.js"),c=function(){function t(t){void 0===t&&(t=1e3),this.spans=[],this._maxlen=t}return t.prototype.add=function(t){this.spans.length>this._maxlen?t.spanRecorder=void 0:this.spans.push(t)},t}(),u=function(){function t(t){if(this.traceId=Object(s.k)(),this.spanId=Object(s.k)().substring(16),this.startTimestamp=Object(r.d)(),this.tags={},this.data={},!t)return this;t.traceId&&(this.traceId=t.traceId),t.spanId&&(this.spanId=t.spanId),t.parentSpanId&&(this.parentSpanId=t.parentSpanId),"sampled"in t&&(this.sampled=t.sampled),t.op&&(this.op=t.op),t.description&&(this.description=t.description),t.data&&(this.data=t.data),t.tags&&(this.tags=t.tags),t.status&&(this.status=t.status),t.startTimestamp&&(this.startTimestamp=t.startTimestamp),t.endTimestamp&&(this.endTimestamp=t.endTimestamp)}return t.prototype.child=function(t){return this.startChild(t)},t.prototype.startChild=function(e){var n=new t(Object(i.__assign)(Object(i.__assign)({},e),{parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId}));return n.spanRecorder=this.spanRecorder,n.spanRecorder&&n.spanRecorder.add(n),n.transaction=this.transaction,n},t.prototype.setTag=function(t,e){var n;return this.tags=Object(i.__assign)(Object(i.__assign)({},this.tags),((n={})[t]=e,n)),this},t.prototype.setData=function(t,e){var n;return this.data=Object(i.__assign)(Object(i.__assign)({},this.data),((n={})[t]=e,n)),this},t.prototype.setStatus=function(t){return this.status=t,this},t.prototype.setHttpStatus=function(t){this.setTag("http.status_code",String(t));var e=o.a.fromHttpCode(t);return e!==o.a.UnknownError&&this.setStatus(e),this},t.prototype.isSuccess=function(){return this.status===o.a.Ok},t.prototype.finish=function(t){this.endTimestamp="number"==typeof t?t:Object(r.d)()},t.prototype.toTraceparent=function(){var t="";return void 0!==this.sampled&&(t=this.sampled?"-1":"-0"),this.traceId+"-"+this.spanId+t},t.prototype.toContext=function(){return Object(a.a)({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})},t.prototype.updateWithContext=function(t){var e,n,i,s,r;return this.data=null!=(e=t.data)?e:{},this.description=t.description,this.endTimestamp=t.endTimestamp,this.op=t.op,this.parentSpanId=t.parentSpanId,this.sampled=t.sampled,this.spanId=null!=(n=t.spanId)?n:this.spanId,this.startTimestamp=null!=(i=t.startTimestamp)?i:this.startTimestamp,this.status=t.status,this.tags=null!=(s=t.tags)?s:{},this.traceId=null!=(r=t.traceId)?r:this.traceId,this},t.prototype.getTraceContext=function(){return Object(a.a)({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId})},t.prototype.toJSON=function(){return Object(a.a)({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId})},t}()},"./node_modules/@sentry/tracing/esm/spanstatus.js":function(t,e,n){"use strict";var i;n.d(e,"a",(function(){return i})),function(t){t.Ok="ok",t.DeadlineExceeded="deadline_exceeded",t.Unauthenticated="unauthenticated",t.PermissionDenied="permission_denied",t.NotFound="not_found",t.ResourceExhausted="resource_exhausted",t.InvalidArgument="invalid_argument",t.Unimplemented="unimplemented",t.Unavailable="unavailable",t.InternalError="internal_error",t.UnknownError="unknown_error",t.Cancelled="cancelled",t.AlreadyExists="already_exists",t.FailedPrecondition="failed_precondition",t.Aborted="aborted",t.OutOfRange="out_of_range",t.DataLoss="data_loss"}(i||(i={})),function(t){t.fromHttpCode=function(e){if(e<400)return t.Ok;if(e>=400&&e<500)switch(e){case 401:return t.Unauthenticated;case 403:return t.PermissionDenied;case 404:return t.NotFound;case 409:return t.AlreadyExists;case 413:return t.FailedPrecondition;case 429:return t.ResourceExhausted;default:return t.InvalidArgument}if(e>=500&&e<600)switch(e){case 501:return t.Unimplemented;case 503:return t.Unavailable;case 504:return t.DeadlineExceeded;default:return t.InternalError}return t.UnknownError}}(i||(i={}))},"./node_modules/@sentry/tracing/esm/transaction.js":function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var i=n("./node_modules/tslib/tslib.es6.js"),s=n("./node_modules/@sentry/tracing/node_modules/@sentry/hub/esm/hub.js"),r=n("./node_modules/@sentry/utils/esm/is.js"),a=n("./node_modules/@sentry/utils/esm/logger.js"),o=n("./node_modules/@sentry/utils/esm/object.js"),c=n("./node_modules/@sentry/tracing/esm/span.js"),u=function(t){function e(e,n){var i=t.call(this,e)||this;return i._measurements={},i._hub=Object(s.b)(),Object(r.g)(n,s.a)&&(i._hub=n),i.name=e.name||"",i.metadata=e.metadata||{},i._trimEnd=e.trimEnd,i.transaction=i,i}return Object(i.__extends)(e,t),e.prototype.setName=function(t){this.name=t},e.prototype.initSpanRecorder=function(t){void 0===t&&(t=1e3),this.spanRecorder||(this.spanRecorder=new c.b(t)),this.spanRecorder.add(this)},e.prototype.setMeasurements=function(t){this._measurements=Object(i.__assign)({},t)},e.prototype.setMetadata=function(t){this.metadata=Object(i.__assign)(Object(i.__assign)({},this.metadata),t)},e.prototype.finish=function(e){var n=this;if(void 0===this.endTimestamp){if(this.name||(a.a.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),t.prototype.finish.call(this,e),!0===this.sampled){var i=this.spanRecorder?this.spanRecorder.spans.filter((function(t){return t!==n&&t.endTimestamp})):[];this._trimEnd&&i.length>0&&(this.endTimestamp=i.reduce((function(t,e){return t.endTimestamp&&e.endTimestamp?t.endTimestamp>e.endTimestamp?t:e:t})).endTimestamp);var s={contexts:{trace:this.getTraceContext()},spans:i,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",debug_meta:this.metadata};return Object.keys(this._measurements).length>0&&(a.a.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),s.measurements=this._measurements),a.a.log("[Tracing] Finishing "+this.op+" transaction: "+this.name+"."),this._hub.captureEvent(s)}a.a.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled.")}},e.prototype.toContext=function(){var e=t.prototype.toContext.call(this);return Object(o.a)(Object(i.__assign)(Object(i.__assign)({},e),{name:this.name,trimEnd:this._trimEnd}))},e.prototype.updateWithContext=function(e){var n;return t.prototype.updateWithContext.call(this,e),this.name=null!=(n=e.name)?n:"",this._trimEnd=e.trimEnd,this},e}(c.a)},"./node_modules/@sentry/tracing/esm/utils.js":function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"d",(function(){return r})),n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"e",(function(){return c})),n.d(e,"f",(function(){return u}));var i=n("./node_modules/@sentry/tracing/node_modules/@sentry/hub/esm/hub.js"),s=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function r(t){var e;return void 0===t&&(t=null===(e=Object(i.b)().getClient())||void 0===e?void 0:e.getOptions()),!!t&&("tracesSampleRate"in t||"tracesSampler"in t)}function a(t){var e=t.match(s);if(e){var n=void 0;return"1"===e[3]?n=!0:"0"===e[3]&&(n=!1),{traceId:e[1],parentSampled:n,parentSpanId:e[2]}}}function o(t){var e,n;return void 0===t&&(t=Object(i.b)()),null===(n=null===(e=t)||void 0===e?void 0:e.getScope())||void 0===n?void 0:n.getTransaction()}function c(t){return t/1e3}function u(t){return 1e3*t}},"./node_modules/@sentry/tracing/node_modules/@sentry/hub/esm/hub.js":function(t,e,n){"use strict";n.d(e,"a",(function(){return f})),n.d(e,"c",(function(){return g})),n.d(e,"b",(function(){return y}));var i,s,r=n("./node_modules/tslib/tslib.es6.js");!function(t){t.Ok="ok",t.Exited="exited",t.Crashed="crashed",t.Abnormal="abnormal"}(i||(i={})),function(t){t.Ok="ok",t.Errored="errored",t.Crashed="crashed"}(s||(s={}));var a=n("./node_modules/@sentry/utils/esm/misc.js"),o=n("./node_modules/@sentry/utils/esm/time.js"),c=n("./node_modules/@sentry/utils/esm/logger.js"),u=n("./node_modules/@sentry/utils/esm/node.js"),d=n("./node_modules/@sentry/utils/esm/is.js"),p=n("./node_modules/@sentry/utils/esm/syncpromise.js"),l=function(){function t(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._user={},this._tags={},this._extra={},this._contexts={}}return t.clone=function(e){var n=new t;return e&&(n._breadcrumbs=Object(r.__spread)(e._breadcrumbs),n._tags=Object(r.__assign)({},e._tags),n._extra=Object(r.__assign)({},e._extra),n._contexts=Object(r.__assign)({},e._contexts),n._user=e._user,n._level=e._level,n._span=e._span,n._session=e._session,n._transactionName=e._transactionName,n._fingerprint=e._fingerprint,n._eventProcessors=Object(r.__spread)(e._eventProcessors),n._requestSession=e._requestSession),n},t.prototype.addScopeListener=function(t){this._scopeListeners.push(t)},t.prototype.addEventProcessor=function(t){return this._eventProcessors.push(t),this},t.prototype.setUser=function(t){return this._user=t||{},this._session&&this._session.update({user:t}),this._notifyScopeListeners(),this},t.prototype.getUser=function(){return this._user},t.prototype.getRequestSession=function(){return this._requestSession},t.prototype.setRequestSession=function(t){return this._requestSession=t,this},t.prototype.setTags=function(t){return this._tags=Object(r.__assign)(Object(r.__assign)({},this._tags),t),this._notifyScopeListeners(),this},t.prototype.setTag=function(t,e){var n;return this._tags=Object(r.__assign)(Object(r.__assign)({},this._tags),((n={})[t]=e,n)),this._notifyScopeListeners(),this},t.prototype.setExtras=function(t){return this._extra=Object(r.__assign)(Object(r.__assign)({},this._extra),t),this._notifyScopeListeners(),this},t.prototype.setExtra=function(t,e){var n;return this._extra=Object(r.__assign)(Object(r.__assign)({},this._extra),((n={})[t]=e,n)),this._notifyScopeListeners(),this},t.prototype.setFingerprint=function(t){return this._fingerprint=t,this._notifyScopeListeners(),this},t.prototype.setLevel=function(t){return this._level=t,this._notifyScopeListeners(),this},t.prototype.setTransactionName=function(t){return this._transactionName=t,this._notifyScopeListeners(),this},t.prototype.setTransaction=function(t){return this.setTransactionName(t)},t.prototype.setContext=function(t,e){var n;return null===e?delete this._contexts[t]:this._contexts=Object(r.__assign)(Object(r.__assign)({},this._contexts),((n={})[t]=e,n)),this._notifyScopeListeners(),this},t.prototype.setSpan=function(t){return this._span=t,this._notifyScopeListeners(),this},t.prototype.getSpan=function(){return this._span},t.prototype.getTransaction=function(){var t,e,n,i,s=this.getSpan();return(null===(t=s)||void 0===t?void 0:t.transaction)?null===(e=s)||void 0===e?void 0:e.transaction:(null===(i=null===(n=s)||void 0===n?void 0:n.spanRecorder)||void 0===i?void 0:i.spans[0])?s.spanRecorder.spans[0]:void 0},t.prototype.setSession=function(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this},t.prototype.getSession=function(){return this._session},t.prototype.update=function(e){if(!e)return this;if("function"==typeof e){var n=e(this);return n instanceof t?n:this}return e instanceof t?(this._tags=Object(r.__assign)(Object(r.__assign)({},this._tags),e._tags),this._extra=Object(r.__assign)(Object(r.__assign)({},this._extra),e._extra),this._contexts=Object(r.__assign)(Object(r.__assign)({},this._contexts),e._contexts),e._user&&Object.keys(e._user).length&&(this._user=e._user),e._level&&(this._level=e._level),e._fingerprint&&(this._fingerprint=e._fingerprint),e._requestSession&&(this._requestSession=e._requestSession)):Object(d.h)(e)&&(e=e,this._tags=Object(r.__assign)(Object(r.__assign)({},this._tags),e.tags),this._extra=Object(r.__assign)(Object(r.__assign)({},this._extra),e.extra),this._contexts=Object(r.__assign)(Object(r.__assign)({},this._contexts),e.contexts),e.user&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint&&(this._fingerprint=e.fingerprint),e.requestSession&&(this._requestSession=e.requestSession)),this},t.prototype.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this},t.prototype.addBreadcrumb=function(t,e){var n="number"==typeof e?Math.min(e,100):100;if(n<=0)return this;var i=Object(r.__assign)({timestamp:Object(o.b)()},t);return this._breadcrumbs=Object(r.__spread)(this._breadcrumbs,[i]).slice(-n),this._notifyScopeListeners(),this},t.prototype.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},t.prototype.applyToEvent=function(t,e){var n;if(this._extra&&Object.keys(this._extra).length&&(t.extra=Object(r.__assign)(Object(r.__assign)({},this._extra),t.extra)),this._tags&&Object.keys(this._tags).length&&(t.tags=Object(r.__assign)(Object(r.__assign)({},this._tags),t.tags)),this._user&&Object.keys(this._user).length&&(t.user=Object(r.__assign)(Object(r.__assign)({},this._user),t.user)),this._contexts&&Object.keys(this._contexts).length&&(t.contexts=Object(r.__assign)(Object(r.__assign)({},this._contexts),t.contexts)),this._level&&(t.level=this._level),this._transactionName&&(t.transaction=this._transactionName),this._span){t.contexts=Object(r.__assign)({trace:this._span.getTraceContext()},t.contexts);var i=null===(n=this._span.transaction)||void 0===n?void 0:n.name;i&&(t.tags=Object(r.__assign)({transaction:i},t.tags))}return this._applyFingerprint(t),t.breadcrumbs=Object(r.__spread)(t.breadcrumbs||[],this._breadcrumbs),t.breadcrumbs=t.breadcrumbs.length>0?t.breadcrumbs:void 0,this._notifyEventProcessors(Object(r.__spread)(h(),this._eventProcessors),t,e)},t.prototype._notifyEventProcessors=function(t,e,n,i){var s=this;return void 0===i&&(i=0),new p.a((function(a,o){var c=t[i];if(null===e||"function"!=typeof c)a(e);else{var u=c(Object(r.__assign)({},e),n);Object(d.m)(u)?u.then((function(e){return s._notifyEventProcessors(t,e,n,i+1).then(a)})).then(null,o):s._notifyEventProcessors(t,u,n,i+1).then(a).then(null,o)}}))},t.prototype._notifyScopeListeners=function(){var t=this;this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((function(e){e(t)})),this._notifyingListeners=!1)},t.prototype._applyFingerprint=function(t){t.fingerprint=t.fingerprint?Array.isArray(t.fingerprint)?t.fingerprint:[t.fingerprint]:[],this._fingerprint&&(t.fingerprint=t.fingerprint.concat(this._fingerprint)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint},t}();function h(){var t=Object(a.e)();return t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.globalEventProcessors=t.__SENTRY__.globalEventProcessors||[],t.__SENTRY__.globalEventProcessors}var _=n("./node_modules/@sentry/utils/esm/object.js"),m=function(){function t(t){this.errors=0,this.sid=Object(a.k)(),this.duration=0,this.status=i.Ok,this.init=!0,this.ignoreDuration=!1;var e=Object(o.c)();this.timestamp=e,this.started=e,t&&this.update(t)}return t.prototype.update=function(t){if(void 0===t&&(t={}),t.user&&(!this.ipAddress&&t.user.ip_address&&(this.ipAddress=t.user.ip_address),this.did||t.did||(this.did=t.user.id||t.user.email||t.user.username)),this.timestamp=t.timestamp||Object(o.c)(),t.ignoreDuration&&(this.ignoreDuration=t.ignoreDuration),t.sid&&(this.sid=32===t.sid.length?t.sid:Object(a.k)()),void 0!==t.init&&(this.init=t.init),!this.did&&t.did&&(this.did=""+t.did),"number"==typeof t.started&&(this.started=t.started),this.ignoreDuration)this.duration=void 0;else if("number"==typeof t.duration)this.duration=t.duration;else{var e=this.timestamp-this.started;this.duration=e>=0?e:0}t.release&&(this.release=t.release),t.environment&&(this.environment=t.environment),!this.ipAddress&&t.ipAddress&&(this.ipAddress=t.ipAddress),!this.userAgent&&t.userAgent&&(this.userAgent=t.userAgent),"number"==typeof t.errors&&(this.errors=t.errors),t.status&&(this.status=t.status)},t.prototype.close=function(t){t?this.update({status:t}):this.status===i.Ok?this.update({status:i.Exited}):this.update()},t.prototype.toJSON=function(){return Object(_.a)({sid:""+this.sid,init:this.init,started:new Date(1e3*this.started).toISOString(),timestamp:new Date(1e3*this.timestamp).toISOString(),status:this.status,errors:this.errors,did:"number"==typeof this.did||"string"==typeof this.did?""+this.did:void 0,duration:this.duration,attrs:Object(_.a)({release:this.release,environment:this.environment,ip_address:this.ipAddress,user_agent:this.userAgent})})},t}(),f=function(){function t(t,e,n){void 0===e&&(e=new l),void 0===n&&(n=4),this._version=n,this._stack=[{}],this.getStackTop().scope=e,this.bindClient(t)}return t.prototype.isOlderThan=function(t){return this._version<t},t.prototype.bindClient=function(t){this.getStackTop().client=t,t&&t.setupIntegrations&&t.setupIntegrations()},t.prototype.pushScope=function(){var t=l.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:t}),t},t.prototype.popScope=function(){return!(this.getStack().length<=1)&&!!this.getStack().pop()},t.prototype.withScope=function(t){var e=this.pushScope();try{t(e)}finally{this.popScope()}},t.prototype.getClient=function(){return this.getStackTop().client},t.prototype.getScope=function(){return this.getStackTop().scope},t.prototype.getStack=function(){return this._stack},t.prototype.getStackTop=function(){return this._stack[this._stack.length-1]},t.prototype.captureException=function(t,e){var n=this._lastEventId=Object(a.k)(),i=e;if(!e){var s=void 0;try{throw new Error("Sentry syntheticException")}catch(t){s=t}i={originalException:t,syntheticException:s}}return this._invokeClient("captureException",t,Object(r.__assign)(Object(r.__assign)({},i),{event_id:n})),n},t.prototype.captureMessage=function(t,e,n){var i=this._lastEventId=Object(a.k)(),s=n;if(!n){var o=void 0;try{throw new Error(t)}catch(t){o=t}s={originalException:t,syntheticException:o}}return this._invokeClient("captureMessage",t,e,Object(r.__assign)(Object(r.__assign)({},s),{event_id:i})),i},t.prototype.captureEvent=function(t,e){var n=this._lastEventId=Object(a.k)();return this._invokeClient("captureEvent",t,Object(r.__assign)(Object(r.__assign)({},e),{event_id:n})),n},t.prototype.lastEventId=function(){return this._lastEventId},t.prototype.addBreadcrumb=function(t,e){var n=this.getStackTop(),i=n.scope,s=n.client;if(i&&s){var c=s.getOptions&&s.getOptions()||{},u=c.beforeBreadcrumb,d=void 0===u?null:u,p=c.maxBreadcrumbs,l=void 0===p?100:p;if(!(l<=0)){var h=Object(o.b)(),_=Object(r.__assign)({timestamp:h},t),m=d?Object(a.c)((function(){return d(_,e)})):_;null!==m&&i.addBreadcrumb(m,l)}}},t.prototype.setUser=function(t){var e=this.getScope();e&&e.setUser(t)},t.prototype.setTags=function(t){var e=this.getScope();e&&e.setTags(t)},t.prototype.setExtras=function(t){var e=this.getScope();e&&e.setExtras(t)},t.prototype.setTag=function(t,e){var n=this.getScope();n&&n.setTag(t,e)},t.prototype.setExtra=function(t,e){var n=this.getScope();n&&n.setExtra(t,e)},t.prototype.setContext=function(t,e){var n=this.getScope();n&&n.setContext(t,e)},t.prototype.configureScope=function(t){var e=this.getStackTop(),n=e.scope;n&&e.client&&t(n)},t.prototype.run=function(t){var e=v(this);try{t(this)}finally{v(e)}},t.prototype.getIntegration=function(t){var e=this.getClient();if(!e)return null;try{return e.getIntegration(t)}catch(e){return c.a.warn("Cannot retrieve integration "+t.id+" from the current Hub"),null}},t.prototype.startSpan=function(t){return this._callExtensionMethod("startSpan",t)},t.prototype.startTransaction=function(t,e){return this._callExtensionMethod("startTransaction",t,e)},t.prototype.traceHeaders=function(){return this._callExtensionMethod("traceHeaders")},t.prototype.captureSession=function(t){if(void 0===t&&(t=!1),t)return this.endSession();this._sendSessionUpdate()},t.prototype.endSession=function(){var t,e,n,i,s;null===(n=null===(e=null===(t=this.getStackTop())||void 0===t?void 0:t.scope)||void 0===e?void 0:e.getSession())||void 0===n||n.close(),this._sendSessionUpdate(),null===(s=null===(i=this.getStackTop())||void 0===i?void 0:i.scope)||void 0===s||s.setSession()},t.prototype.startSession=function(t){var e=this.getStackTop(),n=e.scope,s=e.client,o=s&&s.getOptions()||{},c=o.release,u=o.environment,d=(Object(a.e)().navigator||{}).userAgent,p=new m(Object(r.__assign)(Object(r.__assign)(Object(r.__assign)({release:c,environment:u},n&&{user:n.getUser()}),d&&{userAgent:d}),t));if(n){var l=n.getSession&&n.getSession();l&&l.status===i.Ok&&l.update({status:i.Exited}),this.endSession(),n.setSession(p)}return p},t.prototype._sendSessionUpdate=function(){var t=this.getStackTop(),e=t.scope,n=t.client;if(e){var i=e.getSession&&e.getSession();i&&n&&n.captureSession&&n.captureSession(i)}},t.prototype._invokeClient=function(t){for(var e,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var s=this.getStackTop(),a=s.scope,o=s.client;o&&o[t]&&(e=o)[t].apply(e,Object(r.__spread)(n,[a]))},t.prototype._callExtensionMethod=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=g(),s=i.__SENTRY__;if(s&&s.extensions&&"function"==typeof s.extensions[t])return s.extensions[t].apply(this,e);c.a.warn("Extension method "+t+" couldn't be found, doing nothing.")},t}();function g(){var t=Object(a.e)();return t.__SENTRY__=t.__SENTRY__||{extensions:{},hub:void 0},t}function v(t){var e=g(),n=O(e);return j(e,t),n}function y(){var t=g();return b(t)&&!O(t).isOlderThan(4)||j(t,new f),Object(u.b)()?function(t){var e,n,i;try{var s=null===(i=null===(n=null===(e=g().__SENTRY__)||void 0===e?void 0:e.extensions)||void 0===n?void 0:n.domain)||void 0===i?void 0:i.active;if(!s)return O(t);if(!b(s)||O(s).isOlderThan(4)){var r=O(t).getStackTop();j(s,new f(r.client,l.clone(r.scope)))}return O(s)}catch(e){return O(t)}}(t):O(t)}function b(t){return!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)}function O(t){return t&&t.__SENTRY__&&t.__SENTRY__.hub||(t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.hub=new f),t.__SENTRY__.hub}function j(t,e){return!!t&&(t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.hub=e,!0)}},"./node_modules/@sentry/tracing/node_modules/@sentry/types/esm/transaction.js":function(t,e,n){"use strict";var i;n.d(e,"a",(function(){return i})),function(t){t.Explicit="explicitly_set",t.Sampler="client_sampler",t.Rate="client_rate",t.Inheritance="inheritance"}(i||(i={}))}}]);